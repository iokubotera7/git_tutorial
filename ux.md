使いにくいには種類がある
・製品をユーザが使ったときにおこる問題
  - ボタンが押しづらい
  - 漢字変換の仕方がわからないなど
・ユーザとは無関係に評価できる機能、性能

ユーザビリティでは、ただ機能を強化するのではなく、その道具を使う人間も含めて最大の効果を得られるようにする  
ユーザの特性に合わせて道具をデザインするという発想

これがユーザビリティの原点

UXデザインとは、ユーザの体験
UXデザインの目的は、ユーザの体験を向上させること
UXデザインを学ぶべき人は、サービスの企画をする人
ユーザが使いたいと思えるアプリを開発したいから

# UXデザインとは
アウトプットとのかかわりで生じるユーザの変化を設計すること  
例）Slackボタンとの関わりで生じるユーザの変化

ユーザがどう変化するとうれしいのか  

ポジティブな感情を与えること。  
⇒便利だ、とかを思わせる  

## UXデザインの使命
Slackボタンとの関わりを通じて、ユーザに生成AIを使うことの便利さを感じてもらうこと

## ユーザ
深度：興味あり、知ってる、知らない程度の人たち
形式：

Slackボタンとの関わりを通して社員の変化を設計すること = UXデザイン  

## 体験
予期的UX(利用前)、一時的UX(利用中)、エピソード的UX(利用後)、累積的UX(利用期間全体)  

予期的UX：いろいろなシーンで簡単に使えるChatGPTみたいなボタンがあるぞ。便利って聞くから使ってみようかな。
一時的UX：使ってみたけど、結構色々返してくれるんだな。使える内容と、そのまま使えない内容があるけど、コツがいるなぁ
エピソード的UX：今まで１日かかっていた作業がものすごく短縮された！これを使うと楽に仕事ができるぞ。
累積的UX：あれからボタンに支えられて、考えるのが大変だった、整理するのが大変だったほとんどの作業が数分でできる。残業時間や仕事の質が向上した気がするぞ。

UI: ユーザインタフェース  
UIは利用中である。ユーザとの接点である。  

Y：UXデザインの定義と使命、UXデザインには利用前～利用後、利用を継続した場合のUXなど種類がいくつかあること。  
UXデザインとは、アウトプットとかかわることでユーザに変化を与えること  
W: ユーザに変化を与えるという観点が欠けていたので、勉強になった。  
T: さらに勉強  

PayPay：買い物でスマホがあれば簡単に決済ができる。友達同士の送金がすごく楽。  


どのような価値を誰に対して提供するためのサービス改善なのか？
⇒ユーザが求めていることに着目する  

現状の把握ができないと改善の意味はない。

UIデザインの役割  
簡単に使えるようにする。  
一目で何の役割をしているかを明確にする  
効率的に目的を達成できるようにする  
使っていてらくちんにする
例えば、、行の間隔をあける、色で分けるなど。  

UX：
Webサイトやアプリを使った人の総合的な満足度を占める指標  
大事なのは第三者の目線に立って、初めて使ったときにどう感じるのか、が大切  
UXは人がモノを通じて体験や経験すること  

アクセスしやすい⇒利用しやすい⇒安心しやすい⇒満足しやすい

ユーザビリティ：  
特定の利用状況で特定のユーザによって、サービスや製品が指定された目標を達成するために用いられる際の有効さ・効率・満足度の度合い  

UI：持ちやすい、押しやすい
ユーザビリティ：使いやすい、見やすい・わかりやすい
UX：いいサイト、また使いたい、楽しい


UI：直接操作の使いやすさ
ユーザビリティ：わかりやすさ・使いやすさ
UX：満足度・リピート

## いいUIデザインの原則
常にユーザ目線で。  

* インタフェースのわかりやすさ
    * 色など、ターゲットにどんな人がいるのか、どんな時に使うのか、などを考慮する
 
* UXデザイン設計の流れ
* 目的を定めるためにサービスを分析
* ユーザ像を設定

なぜUXデザインを取り入れようと思ったのか
UXデザインを取り入れることで何を果たしたいのか  

例：
商品のリピート購入を目的とした既存サービスの改善  
⇒結果：リピート率の向上  

ユーザ像を設定  
ペルソナ：
行動パターン：
用ロコばせたり、感動させたりするにはどうすればいいのかを考える  

企業の基本情報  
- 教育事業でやっていること
  - 西東京でWebにまつわる勉強会を主催
  - 様々なセミナーや勉強会などでデザイン実演やUI/UX講演
  - Udemyの動画配信

サービスを提供する人物ステータス
- これまでに、DTP制作、ロゴデザイン、キャラクターデザイン、画像レタッチ、UI設計、ウェブデザイン、コーディング、動画など十字
- 


顧客やユーザが抱えている課題（想定）
初心者がどこでも気軽に学べる場がほしい
デザインを学びたくても、どこから勉強していいかわからない。
現場で活動している講師や最新情報を知っている講師から教わりたい  

顧客セグメント= どんな人がターゲットなのか    

独自の価値提案  
⇒どうなれば独自の価値を感じてもらえるか  
現場で活動・稼働しているトレーナがそろっている  
オンライン・オフラインの両方で講義ができる環境を提供できる  
アクティブラーニングの手法の一つである反転学習で能動的な学習方法を提供  

ソリューション
⇒どうやってその課題を解決するか  
課題解決する方法上位３つ  

Adobe XDの基本的な使い方や現場で使われている機能の紹介・最新情報の提供  
ユーザ合わせたオフラインの相談所  


チャネル  
⇒どうやってターゲットにアプローチするか
SNS
リスティング広告
LPなどのSEO対策  


収益の流れ  
⇒

コスト構造
⇒コストはどれくらいかかるのか
レンタルサーバ費 1か月 約3,000円
人件費 ゲスト登壇者 1講義 売上額50～70%前後  
PCなどの設備費

主要指標  
⇒どの数値があがれば成功といえるか
参加者数や見学数・入学数
受講リピータ数
宣伝サイトアクセス数
SNSフォロワー  

圧倒的な優位性  
⇒他社にまねされないものは何か  
デザイン所学者やノンデザイナーでもわかりやすい解説  
無駄な部分は省いて現場で生かすことができる技術

SWOT分析
ユーザに伝えられているか？
強みを生かした価値が提供できているのか？

突出した独自性ばかりでなく、

機会、脅威、強み、弱み  

体験的プロトタイピング
⇒部分的な操作のUI/UXを確認するプロトタイプ  

戦術的プロトタイピング
⇒ストーリー視点で一連のプロセスを確認するプロトタイプ  

戦術的プロトタイピングを作成するメリット
* 一過性の価値提供や機能実装
* プロダクト

作成前にそろえておくべき前提条件
誰が、何を、どのように
ユーザが期待する利用方法に近いか

プラグマティック・ペルソナ
実際のデータやユーザの生の声ではなく、開発チームが想像するターゲットユーザを擬人化したもの  
プラグマティックペルソナのメリット
・コミュニケーションコストを減らす
・問題の解決策をより具体的に検討可能  




AWSクラウド上でIaaSを利用するメリット
・オンデマンドによる柔軟性
⇒オンデマンドで必要な時に必要な数だけサーバなどのインフラを構築したりするのが利点

1時間だけ利用するキャンペーンサイトに対して選択するべきEC2インスタンスの購入オプション
⇒オンデマンドインスタンス

オンデマンドインスタンスは利用時間に応じて料金を支払う形態。１時間だけ利用する、であればオンデマンドインスタンス  

リザーブドインスタンス：１年間・３年間と期間を決めてEC2インスタンスを予約することで通常のEC2インスタンスよりも格安にインスタンスを使うことができる購入方法  

スケジュールドリザーブドインスタンスは日時、週次、つきじと３パターンのスケジュールされた買い方ができる。月一回だけバッチ処理で利用したいなどの要望に利用できる。  

スポットインスタンスはオンデマンド価格よりも低価格で利用できるAWSが管理する未使用のインスタンス。  
スポットインスタンスはユーザが一時的に格安で利用することができるが、とちゅうでAWSに利用停止させられる可能性がある。  

Auroraデータベースの特性  
Auroraはリードレプリカを複数のAZにまたがって展開させることができる。  
Auroraは最大15個までリードレプリカを設定可能。  
AuroraはマスターDB自体を冗長化するマルチマスター構成も可能。  


データベースの役割  
* トランザクション:データベースをある一貫した状態から別の一貫した状態へ変更する１つの処理の束のこと
* データモデル：実世界におけるデータの集合を、DBMS上で利用可能な形に落とし込むためのモデル

* トランザクションの例
  ACID：信頼性のあらうトランザクションシステムの持つべき性質のこと
  Atomicity（原始性）：トランザクションが「すべて実行される」か「一つも実行されない」のどちらかの状態になるという性質
  Consistency(整合性)：トランザクションの前後でデータの整合性が保たれ、矛盾の無い状態が継続される性質
  
## RDSのベストプラクティス
* メモリ内に保持できるように十分なRAMを割り当てる
* 拡張モニタリングを使用したOSの問題の特定
* 特定のメトリクス閾値に対してCloudWatchアラームを設定
* MySQLのストレージエンジンにはInnoDBを利用する
* 大きなテーブルのパーティションは16TBを超えないようにする

RDSはマネージド型であるため、クラウド側が多くの管理タスクを実施している  

## RDSの制約事項
RDSはマネージド型であり管理が楽な反面、AWSから提供される機能範囲内での制限を受ける  

RDSのストレージタイプ  
* 汎用：SSDタイプ、GBあたりの容量課金を実施
* プロビジョンドIOPS：SSDタイプ、GBあたりの容量課金を実施+プロビジョンド済みIOPS単位の課金
* マグネティック：HDDタイプ。あまり利用されていない

RDSに対してインターネットアクセスするには、パブリックをアクセスを有効化する必要がある  
⇒パブリックサブネットをRDSに配置する
⇒パブリックサブネットに踏み台サーバとしてEC2を設置し、

推奨はマルチAZ構成
⇒AZ障害が発生しても停止しない構成。  
複数のAZ内に、パブリックサブネットにEC2、プライベートサブネットにRDSを配置し、EC2側はELBでロードバランシングし、プライマリーDBにデータをやり取りする  
プライマリーが死んだときにはセカンダリが自動的にフェイルおーばする  

2つのDBは同期れぷりけーょんを実施し、常に同じデータ内容を維持する  
プライマリー側に障害が発生した場合、自動でフェールオーバーが実行され、セカンダリがプライマリに昇格する  
スタンバイ状態のDBはアクセス不可  

## RDSの暗号化
保管時のDBインスタンスとスナップショットの暗号化が可能  
暗号化はインスタンスの作成時あるいは、スナップショットのコピーの作成時。  

バックアップ
自動バックアップ：RDSが毎日、データのスナップショットを自動的に作成し、S3に保存する
スナップショットの取得：ユーザによって指定された頻度でスナップショットを取得することが可能  

S3は利用しているデータの総量・データの取り出しのリクエスト数、インターネットからS3へのデータ転送、S3からインターネットへのデータ転送によって課金される  

S3はデフォルトで暗号化がされる。  
S3コンテンツのオブジェクトURLに対してHTTPSはデフォルトで利用することが可能。  

CSEはクライアントサイドの暗号化方式であり、S3のサーバサイド暗号化では、SSE-S3, SSE-KMS, SSE-Cの３つのタイプの暗号化キーを利用することができる  

S3のストレージサービス
・ブロックストレージ：EC2にアタッチして活用するディスクサービス、ブロック形式えデータを保存。高速・広帯域幅、EBS、インスタンスストア
・オブジェクトストレージ：安価かつ高耐久性を持つオンラインストレージ。デフォルトで複数AZで冗長化している。S3。
・ファイルストレージ：複数のEC2インスタンスから同時にアタッチ可能な共有ストレージサービス。ファイル形式でデータを保存. EFS  

バケット
バケットはリージョンに設定する。AZやVPCの範囲外。  
バケットにはグローバルに一意の名前を設定することが必要。  

S3の利用コスト  
・最も安いのはGlacier deep archive  
・リージョン：リージョンごとに価格が異なる  
・データ容量：データ量と保存期間に応じて料金がかかる。  
・リクエストとデータ取得：データに対するリクエストに応じて料金がかかる。データを取得した量に応じて料金がかかる  
・データ転送：インターネットからS3へデータ転送、S3からインターネットへ転送は料金がかかる  

ストレージクラス  
・STANDARD：複数個所にデータを複製するため耐久性が高く、頻繁に利用するデータを大量に保存するのに向いている。  データは3AZ以上で分散保存される  
・STANDARD_IA：低頻度アクセスデータ用のストレージ。Standardより安価だが、One Zone-IAと比較して高い  
・One Zero-IA：低頻度アクセス用のストレージで、重要でないデータ向き。  


ルートユーザ
・ルートアカウントのメールアドレスやパスワードの変更
・IAMユーザの課金情報へのアクセスに関するactivate/deactivate
・ほかのAWSアカウントへのRoute53のドメイン登録の移行  
・AWSサービスのキャンセル
・アカウントの停止
・脆弱性診断フォームの提出
・逆引きDNS申請  

AWS Organizationsとは
複数のAWSアカウントを利用している場合に、統合管理を実施することができる  
AWSアカウントの一元管理
新規アカウントの作成管理
一括請求  

AWS Organizationで、一括請求、CloudTrailのログの一元管理、

CloudTrail
AWSユーザの操作（APIコールやユーザのサインインアクティビティ）をロギングするサービス
ルートアカウント/IAMユーザのオペレーションとAPIコールをトラッキングしてログを取得するサービス
CloudTrailログファイルは暗号化されてS3に保存
KMSによる暗号化にもサポート
デフォルトでは90日間保存される
無料

イベント履歴からCloudTrailの履歴を閲覧できる  
ただし、９０日間のデータ  

Amazon Athenaでログをクエリで解析できる。ログ解析ができるSQLのサービスがAmazon Athena  
レイクは、CloudTrail内でデータの抽出・保存ができる。  

CloudWatchではAWSリソースとAWSで実行するアプリケーションのモニタリングサービス。
アラーム：メトリクスに基づく数式の結果を監視するメトリクスアラームを作成する。  
メトリクス：EC2などのリソースの監視サービス。死活監視、性能監視、キャパシティ監視を実施する
CloudWatch Logs：CloudWatchと連動したログを収集・可視化する機能。  
CloudWatch Events: リソースに対するイベントをトリガーにアクションする。

CloudTrailはグローバルで１つではない。それぞれのリージョン・アカウントのCloudTrailを集約する  

EC2インスタンスのトラフィック情報を取得するために利用するCloudWatchのサービスはCloudWatch Logs.

Amazon EventBridgeを利用して、EC2インスタンスが異常状態イベントをトリガーにLambdaを実行する。  
CloudWatchアラームが作成・更新・削除されたり、アラームの状態が変更されるたび、CloudWatchはEvent Bridgeにイベントを送信する。
これに基づき、Lambdaを実行することができる。  


EBSはスナップショットを別リージョンにコピーして移動して、そのスナップショットを復元することができる  


EBSはAWS KMSと連携してEBSボリュームを暗号化および復号が可能。


EC2の特徴
・独自のAmazon Machine Image(AMI)にバックアップして、再度起動することが可能  
・EC2はEBS、ELB, Auto Scallingを含む  

OSとしてイメージの選択
インスタンスタイプの設定
・CPUのクロック数とコア数
・メモリ容量
ストレージタイプ
・EBS
・インスタンスストア

EC2の利用コストはインスタンスタイプや購入方式（オンデマンド、リザーブド、スポットインスタンス）、データ転送アウトにも課金される。  

インスタンス起動中：実行時間に応じた従量課金、利用中のEBSボリュームの料金が発生。  
インスタンス停止中：利用中のEBSボリュームに料金が発生。  
インスタンス終了：EC2インスタンスの料金発生が停止。EBSも削除され、料金発生が停止。  

t2.nano
t: インスタンスファミリー
2: 世代
nano：インスタンスのサイズ  

インスタンスファミリー
汎用：A1, M5, T3などバランスの取れたコンピューティング。  
コンピューティング最適化：C5, C6gなど。高パフォーマンスなプロセッサが必要な場合に利用
メモリ最適化：X1, R5, ハイメモリ, z1dなど。
ストレージ最適化：
高速コンピューティング：P3, Inf1, G4, F1など。

vCPU：スレッド数みたいなもの。  実際の処理をするスレッド数を決める。  

インスタンスストア：Ec2と物理的に接続されているEC2の領域内で保持されるストレージ。無料だが、EC2が停止・終了されたら削除される。  
EBS：ネットワークで接続されたブロックレベルのストレージでEC2とは独立して管理される。  

Amazon EFS：NASに似たファイルストレージ複数のインスタンスでの共有アクセスが可能。  
Amazon FSx: 

物理対応可能なインスタンス
ハードウェア専用インスタンス：専用HWのVPCで実行されるインスタンス。ホストHWのレベルで、ほかのAWSアカウントに属するインスタンスから物理的に分離する。  
Dedicated Host: インスタンス容量を完全にお客様専用として利用できる物理サーバ。
Bare Metal：プロセッサとメモリに直接アクセス可能。  

リザーブドインスタンスとは、１～３年間インスタンスを使用することを予約することで、オンデマンドインスタンスより安価でインスタンスを利用できる購入方式。  


リザーブドインスタンスの特徴  
スタンダード：インスタンスファミリ、OS、テナンシー、支払いオプションの変更が不可。
コンバーティブル：コンバーティブルは上記の変更が可能。そのため、スタンダードよりかは割引率が引くい。  

インスタンスストア：物理的にEC2インスタンスに接続されているストレージ。EC2の一時的なデータが保持され、停止・終了時にデータが削除される。  
EBS：スナップショットをS3に保存可能。  
EBSは99.999%の可用性がある。  
サイズは1GB~16TB。  
ボリュームデータはAZ内で複数のHWにデフォルトでレプリケートさｒているため、冗長化不要。  
セキュリティグループによる通信制御対象外であり、全ポートを閉じてもEBSは利用可能  
データは永続的に保存可能  

EBSは同じAZ内のインスタンスとしか接続できない。  
一つのEBSを複数のインスタンスで共有することはできない。  
同じAZ内のインスタンスのみ付け替え可能。  

EBSのボリュームタイプ：
・汎用SSD：低レイテンシーを要求するアプリ、小中規模なデータベースや開発・テスト環境用  
・プロビジョンドIOPS(io1, io2)：ミリ秒未満のレイテンシー。
・プロビジョンドIOPS(io2 Block Express)：超高性能なデータ処理用  

スナップショットを利用してバックアップを取得する  
すなっぷしょっとはリージョン間をまたいで利用可能。  
スナップショットは権限委譲することで、別アカウントで利用可能  

EBSの暗号化
KMSのCMKを利用して、ボリューム作成時とスナップショット作成時に暗号化を実施する。  
インスタンスとEBS感のデータ転送と保存データ両方に対して暗号化を実施する。  

暗号化対象
・ボリューム内の保存データ
・ボリュームとインスタンス間の転送データ
・ボリュームから作成されたすべてのスナップショット
・スナップショットから作成されたボリューム  

AMIの特徴
EC2インスタンスのOS設定などをイメージとして保持し、新規インスタンス設定に利用する
インスタンスの作成時にAMIから情報がEBSにコピーされる
AMIは別リージョンにコピー可能 



RAID0：パフォーマンスを向上させる。複数のディスクを１台のディスクのように扱い読み書きを高速化する構成
RAID1：ボリュームの冗長化を高める。

EBSはデフォルトで暗号化はされていない。  

異なるVPC間を接続するためにはVPCピアリングを使う必要がある。  
VPC内からVPC外のAWSリソースにアクセスするにはVPCエンドポイントを使う。  

/24：1024
/23：512
/22：256
/21：128

サブネットを追加することで複数AZ範囲にVPCを広げることができる。しかし、VPCはリージョンを超えることはできない。  

デフォルトVPC
AWSアカウントを作成すると、自動的に各リージョンに１つずつデフォルトVPCとデフォルトサブネットが作成される。  


インターネットゲートウェイ：インターネットへの出入り口となるゲートウェイ。VPCに一つ配置する。
NATゲートウェイ：プライベートサブネットのリソースからインターネットへのトラフィックを可能にするためのゲートウェイ。プライベートアドレスをパブリックアドレスに変換して、インターネットゲートウェイに連携させる。  
Egress-Only Internet Gateway：IPv6向けのインターネットゲートウェイ。IPv6経由でのVPCからインターネットへの送信を可能にし、インターネットからインスタンスへの接続を防ぐ。 
カスタマーゲートウェイ：オンプレと接続する際に利用するゲートウェイがカスタマーゲートウェイ。カスタマーゲートえうぃデバイスまたはソフトウェアアプリケーションに関する情報をAWSに提供する。  
仮想プライベートゲートウェイ：仮想プライベートゲートウェイは、VPNトンネルのAmazon側にあるるーた。VPN接続で利用するのが仮想プライベートゲートウェイ  

VPC内で起動したインスタンスがパブリックIPアドレスに対応するDNSホスト名を取得するために設定が必要


 VPCからVPC外への接続方法
 VPCエンドポイント：インターネットを介さずにVPC内からVPC外のリソースへアクセスをする機能  
 ゲートウェイ型：サブネットに特殊な
 インターフェース型：サブネットにエンドポイント用のプライベートIPアドレスを生成し、

 AWS PrivateLink
 インタフェースエンドポイントを利用したプライベート接続をするサービス  
 →インターネットを経由せずVPCとAWSでホストされているサービス、またはオンプレ間でプライベート接続を確立する  


VPCピアリング：２つのVPC間の通信が可能。異なるAWSアカウント間のVPCを接続することは可能。  

トランジットゲートウェイ：VPC間をハブ型の接続が可能にする機能。  

VPCとオンプレ接続
・AWS Direct Connect：オンプレ環境からVPCへの接続を作成
データセンターやオフィスの専用線などを介してAWSへ接続する方式。  
Direct Connectロケーションに物理的にオンプレ環境を接続することでAWS環境と専用線接続が可能。  
⇒カスタマーゲートウェイを自社ネットワークに設定する。  

カスタマーゲートウェイ⇒Direct Connectロケーション⇒AWS　
Direct Connectロケーションには、カスタマールータとDirect Connectエンドポイントを設置する必要がある。AWS側で仮想プライベートゲートウェイが設置されている。  

Direct Connectの冗長化
Direct Connect回線接続自体を二重にして冗長化する  

AWSサイト間VPN：インターネット回線を利用したVPN接続を実現することが可能。  

各リージョンにデフォルトで一つのVPCが設置される。  

Direct ConnectデバイスはDirect Connect ろけーしょんに設置する。自社に設置するのはカスタマーゲートウェイ  

セキュリティグループ：インスタンスへのトラフィックのアクセス可否を設定。  
ネットワークACL：VPCとサブネットへのトラフィックのアクセス可否を設定するファイアウォール機能  

  セキュリティグループ
  ・インスタンス単位で設定
  ・特定のVPCに紐づいて作成⇒VPCが削除されると再作成が必要
  ・ステートフル：インバウンドのみ設定すればアウトバウンドも許可される。  
  ・許可のみをIn/Outで指定
  ・デフォルトは全インバウンドが設定なし（拒否設定）、アウトバウンドは許可がされる。

  ネットワークACL
  ・VPC/サブネット単位で適応
  ・ステートレス：インバウンド設定だけではアウトバウンドは許可されない。  
  ・許可と拒否をIn/Outで指定。
  ・デフォルトではすべての通信を許可する設定
  ・番号の順序通りに適用するため、重複したプロトコルに設定されている場合、小さい番号が優先される。  


  エフェメラルポートの利用
  NACLを利用してサブネット内のリソースと通信する際は特定のポート番号に加えてエフェメラルポートの設定が必要  


  Route53
  Route53は権威DNSサーバの機能をマネージド型で簡単に利用出来るサービス
  主要機能はドメイン登録・DNSルーティング・ヘルスチェック
  ポリシーによるルーティング設定が可能  
  ・トラフィックルーティング
  ・ファイルオーバー
  ・トラフィックフローに基づく様々な条件のルーティング設定が可能  
  100%の可用性がある  
  マネージドサービスであるため、ユーザ側で冗長性を考慮する必要がない。  

  Route53の利用方法  
  Route53を利用してドメイン登録すると自動でホストゾーンを作成し、そこにルーティングを設定する。  
  ①Route53にドメインを設定
  ②ドメイン名と同じホストゾーンを作成
  ③ホストゾーンにルーティング方法となるDNSレコードを作成
  ④トラフィックルーティングを設定  

ホストゾーン
ドメインとそのサブドメインのトラフィックのルーティングする方法についての情報を保持するコンテナ  
・パブリックホストゾーン
インターネット上に公開されたDNSドメインレコードを管理するコンテナ
インターネットのDNSドメインに対するトラフィックのルーティング方法を定義
⇒インターネット公開するドメインに関するホストゾーン
・プライベートホストゾーン
VPCに閉じたプライベートネットワーク内のDNSドメインのレコードを管理するコンテナ  
1つのプライベートホストゾーンで複数のVPCに対応可能  
VPCが相互アクセス可能であれば複数リージョンのVPCでも、同じホストゾーンを利用可能  

レコードタイプ
・SOA：ドメインのDNSサーバ・ドメイン管理者のメールアドレス・シリアル番号などを保持して、ゾーン転送時に情報が更新されているか判断に利用する  
・A：ホスト名とIPアドレスの関連づけを定義するレコード  
・MX：メールサーバのホスト名を定義するレコード
・CNAME：正規ホスト名に対して別名を定義するレコード。特定のホスト名を別のドメイン名に転送するときに利用。  

ルーティングポリシーの選択
・シンプルルーティング：レコードセットにおいて事前に設定された値のみに基づいてDNSクエリを応答するルーティング方式。  
⇒静的なルーティングを行う。  
・加重ルーティング：複数エンドポイントに重みを設定して、重みに応じてDNSクエリに応答するルーティング方式。
⇒重みの高いエンドポイントに多くルーティングする  
・フェールオーバールーティング
⇒ヘルスチェックに基づき、利用可能なリソースにDNSクエリを応答する方式。  
⇒利用可能なリソースにルーティングされる。  

レイテンシールーティング：リージョンの遅延によりDNSクエリを応答する。  
⇒ユーザの最寄りのリージョンに応答する。  
位置情報ルーティング：ユーザのIPアドレスにより位置情報を特定し、地域ごとに異なるレコードを返す。　　
・地理的近接性ルーティング：ユーザとリソースの場所基づいて地理的近接性ルールを作成して、トラフィックをルーティングする。  
⇒AWSリソースを使用している場合、リソースを作成したAWSリージョン  
⇒AWS以外のリソースを使用している場合、リソースの緯度・経度
トラフィックフローを利用する必要がある。  


フェールオーバー構成
フェールオーバー（アクティブ・パッシブ）
⇒プライマリーリソースをアクティブリソースとしてルーティングする。障害が発生した倍、セカンダリーリソースをルーティングする。  
フェイルオーバーポリシーを使用して設定する。  

フェイルオーバー（アクティブ・アクティブ）
複数のリソースをアクティブとしてルーティングする。
ヘルスチェックも行っているので、障害が発生した場合、正常なリソースにフェイルバックする。  
フェールオーバー以外のルーティングポリシーを使用して設定する  


Route53による地域制限
・位置情報ルーティングを利用して、コンテンツの配信と、配信権限のある場所にだけ制限をすることが可能  
⇒


レイテンシールーティング：ユーザにとって最も応答速度が速いサーバからアクセスできるようにルーティングすること。

地理的近接性ルーティング：ユーザとリソースの位置情報に基づいてルーティングする方法  


AZの選択
一つのリージョンにつき２つのAZを利用してアーキテクチャーを設計することが基本  
マルチAZにサーバやDBの冗長構成を確率することで高い可用性を実現する  

VPC
一つのVPCでアーキテクチャを設計するのが基本とする
⇒基本的には１つのVPCに１つのシステムやアプリケーションを設計する  

マルチVPC方式、マルチアカウント方式
サブネットは/24以上が推奨  
一つのAZに対して１つのパブリックサブネットとプライベートサブネットを割り当てる。  
プライベートサブネットに多くのIPアドレスを割り当てる。  
マルチリージョンの活用
⇒別リージョンにリードレプリカを配置することでデータアクセスを分散する。  
災害対応など。  

Well-Architected Framework
・Reliability：信頼性
・Performance Efficiency：パフォーマンス効率
・Security：安全性
・Cost Optimization：コスト最適化
・operational Excellence：運用上の優秀性
・Sustainability：持続可能性

Well-Architected Frameworkは３つで構成される。
Well-Architected Frameworkホワイトペーパー  

ベストプラクティスを利用することで最適解や改善点を把握する。あくまで参考であり絶対というものではない。  
要件定義：AWSを利用したシステム要件を検討する材料としてホワイトペーパーを確認して最適な要件検討に利用する。
設計：設計においてホワイトペーパーを確認しながら、適切な設計方式を検討する  
構築：リリース前にAWSのインフラ構成にリスクや改善点がないかホワイトペーパーに基づき確認
運用：運用中に定期的にホワイトペーパーに沿ったレビューを実施し、リスクや改善点がないか確認  

Reliability：信頼性
・障害による中断・停止と障害復旧による影響を軽減するインフラを構成する。  
設計事項
。インフラの障害復旧の自動化など軽減設計
・復旧手順のテストによる検証
・需要変化に応じた水平方向へのスケーラビリティーによる高可用性の確保
・キャパシティの推測をやめる
・モニタリングと自動化を進めること  

信頼性の腫瘍サービス
・基盤：
・変更管理：CloudTrail
・障害管理：CloudWatch

Performance Efficiency：パフォーマンス効率
システム要件のリソース最適化によるインフラ効率化
設計事項
・システム要件を満たすためのコンピューティングリソースを効率化する
・システム要件やAWSサービスの進化に応じてAWSインフラの効率化を推進する  
- 先端技術の一般化
- グローバル化を即座に達成
- サーバレスアーキテクチャの利用
- より頻繁な実験

 Security：セキュリティ
 AWS内のデータ・システム・アセットの保護とモニタリングによりセキュリティを高める  
 ・すべてのレイヤーにおいてセキュリティを適用
 ・アクセス追跡・モニタリングの確実な実施
 ・条件ドリブンのアラートをトリガーとしてセキュリティイベントへの応答を自動化
 ・AWS責任共有モデルに基づく対象範囲の保護に集中
 ・セキュリティのベストプラクティスの自動化  

 Cost Optimization：コスト最適化
 不必要なリソースの削減や最適な料金選択によりコストを削減
 設計事項
 ・不必要なリソースの削減
 ・透明性のある費用
 ・マネージド型サービスの利用によるコスト削減
 ・固定の償却コストを変動コストへ転換
 ・スケールによるコストメリット
 ・データセンタへの投資不要化


 Operational Excellence：運用上の優秀性
 運用上の優秀性とは計画変更が起こった場合や予期せぬイベントの発生時において、自動化された運用実務及び文書化されテストされレビューされた手順があること  

 サステナビリティの責任共有モデル
 ・AWSはクラウドのサステナビリティの推進によって、インフラに関連するエネルギー使用率を８０％削減する。
 AWS側の責任
 →サーバ使用率、電力と冷却の効率化、カスタムデータセンタの設計、2025年までに100%再生可能エネルギーでAWSを運用
 ユーザ側の責任
 クラウドを利用した効率的なアプリケーション設計やサービス選択を実施する。
 →効率的なストレージ技術の仕様
 →コード効率化
 →効率的なインフラのデプロイとスケーリング
 →効率的なアプリケーションデザイン
 →データの効率的なデザイン活用  

 サステナビリティの設計原則
 ・影響を把握する
 ビジネス上の成果と関連するサステナビリティへの影響を測定し、パフォーマンス指標を確立し、改善を評価し、提案された変更が与える影響を推定する。  

 Well-Architected Toolの定義
 ワークロード：ウェブサイト・ECサイト、モバイルアプリのバックエンド、分析PFなどのビジネス価値をもたらす一連のコンポーネントが特定する  
 マイルストーン：設計、テスト、実稼働、本稼働の製品ライフサイクルを通して進歩するアーキテクチャでの重要な変更内容のこと  
 レンズ：ベストプラクティスに照らしてアーキテクチャを評価し、改善すべき分野を特定する一貫した方法  
 高リスクの問題(HRI)：ビジネスに重大な悪影響を及ぼす可能性があるアーキテクチャおよび運用上の問題
 中リスクの問題（MRI）：HRIより低いビジネス上の問題  
 
 AWS利用規約には、AWSにおける禁止事項が記載されている。  


 パフォーマンスを低下させることなく、ユーザ、トラフィック、データサイズの増加にサポートできるソリューションは伸縮自在性を実装するというクラウドアーキテクチャの原則にのっとる。  


 サービス限度額の引き上げを一元的に申請・追跡するために、企業が使用すべきAWSのサービスやツールは、AWS Organization

ELBの特徴
・スケーラビリティの確保
⇒複数のEC2インスタンス/ECS Serviceへの負荷分散
・高可用性
⇒複数のAZにある複数のEC2インスタンスの中から正常なターゲットにのみ振り分ける  

ELBの特徴
。インスタンス間の負荷を分散するサービス。インスタンスに限らずIPアドレスをターゲットにした負荷分散も可能。  
・ヘルスチェックにより異常なインスタンスを認識し、トラフィックを正常なあインスタンスにのみ分散する。  
・時間に応じたロードバランサーキャパシティーユニット（LCU）使用量で課金
・Auto Scalling, Route53, Cloud Formationなどと連携  

ELBを利用したマルチAZにインスタンスへのとらふぃっくを分散する。リージョンをまたぐことはできない。  

ELBのタイプ
・CLB：レイヤー4・7に対応し、TCL, SSL, HTTP, HTTPSリスナー対応。古いタイプ。
・ALB：レイヤー7に対応し、HTTP/HTTPSリスナー対応。パスルーティングが可能。時間に応じたLCU使用量で課金。IPアドレスが可変で、DNSのみ利用可能。デフォルトでクロスゾーン負荷分散が有効。
・NLB：L4ロードバランサでTCPリスナーに対応。（戻りトラフィックがNLBを経由しない）。時間に応じたLCUの使用量で課金。固定IPのためDNS、IPのどちらも利用可能。ALBよりも高パフォーマンス処理が可能。  

Gateway Load Balancer：


 ・ALB
 レイヤー７に対応しHTTP/HTTPSリスナー対応
 WebSocketとHTTP/2のリクエストを受付
 １インスタンスに複数ポートを登録可能。
 複数ポートを個別のターゲットとして登録することが可能なため、ポートを使用するECSなどのコンテナをロードバランシング可能
 ターゲットグループでヘルスチェックが可能
 削除保護が可能
 リクエスト内容を確認して分散先を振り分けるコンテントベースルーティングが可能
 URLのパスに基づいてルーティングが可能なパスベースルーティングが可能  

 CLBはドメインを分けてバランシングするが、ALBはパスルーティングでURLのパスに基づいてルーティングすることができる。  
 NLB：超低遅延で高スループットを維持しながら秒間何百万リクエストを砂漠ように設計された高性能ロードバランサ  

 ELBの主要機能
 ・ヘルスチェック：インスタンスの正常・異常を確認し、利用するインスタンスを振り分ける。  
 クロスゾーン負荷分散：配下のインスタンスの負荷に応じ、福栖のAZにまたがるインスタンスに均等負荷分散を行う。  
 リスナー設定：通信するプロトコルタイプや通信ルールを設定することができる。  
 暗号化通信：SSL/TSL証明書をELBに設定することでHTTPSまたはTLS通信を実施することができる。  
 ステッィキーセッション：せっしょんを継続して、同じクライアント端末からのリクエストを継続して
 Connection Draining：

AWSを安く使うのは、無料利用枠を利用すること
無料トライアル：短期のトライアル
１２か月間無料：１２か月間無料で使えるサービス
常時無料

AWSの課金方式
・従量課金
・予約による低価格：EC2などの特定のサービスにはリザーブド価格（予約による低価格販売）
・ボリュームディスカウント：使えば使うほど安くなる。

・価格査定ツールを利用する
AWS料金見積ツール（Pricing Calculator）などを用いて、ビジネスや個人のニーズに沿った個別の予測コスト見積を実施することができる。  

 AWS Compute Optimizer
 使用率データに基づいて、EC2インスタンスタイプ、EBSボリュームおよびLambda関数の最適な設定を選択できる。最大２５％コスト削減を実施.  

 整理：AWSコスト配分タグ
 タグごとに使用料とコストをグループ化したコスト配分レポートを作成することができる。
 整理：AWS Cost Categories
 コストと使用量をチーム、コストセンター、地域、用途、その他の組織構造とコスト配分の必要性に応じて正確に分類できる。  

 レポート：AWS Application Cost Profiler
 アプリケーションによって使用される共有AWSリソースの消費を追跡し、全体の詳細なコスト内訳をレポートする。  

 コストと使用状況レポート
 AWSのコストと使用状況に関する最も包括的データを提供

 検査・レポート：Cost Explorer
 AWSのコストと使用量の経時的変化を可視化して、カスタムレポートを作成してコストと使用量のデータを分析する。  

 アクセス
 AWS一括請求：一括請求機能を使用して、複数のAWSアカウントの請求と支払いを統合して、追跡・管理することができる。  
 料金のボリューム割引、リザーブドインスタンスの割引、およびSavings Plansを共有
 AWS Purchase Order Management：AWSに対する発注書を作成・管理するサービスで、複数のPOの管理を一元化できる。
 AWSクレジット：対象サービスに関連するコストを賄うため、請求に適用される販促用クレジットで、クーポンのようなもの。  

 AWS Organizationsにより一括請求
 メンバーアカウント間でリザーブドインスタンスを共有化したり、S3などの利用料に応じた課金がお得になる。  

 AWSコスト異常検出
 機械学習により異常な支出と根本原因を特定し、想定外のコストが発生する回数を減らし、コントロールを強化する。  

 CloudWatch
 billing機能により請求額に対するアラーム設定が可能  

 AWS Budgets
 カスタム予算を設定し、コストまたは使用量が予算額や予算量を超えた場合に細かくアラームを設定することができる。

 AWS Instance Scheduler
 EC2およびRDSインスタンスの開始スケジュールと停止スケジュールを設定し、リソースコストを管理する。  

 Saving Plans
 1年または3年の期間に特定の量の処理能力をしようする契約を結ぶことにより、オンデマンドに比べて大幅に節約できる。  

 リザーブドインスタンスのスタンダードでは、最大６０％の割引幅が獲得可能  

 AWSを利用しているプロジェクトごとに予算を分割して確認することが必要な場合、コスト配分タグがよい。  

 Budgetsでは、個別のサービス、プロジェクトなどから設定した予算をコストが超えた際にアラートする機能。 

 Amazon Lightsail：仮想サーバ、ストレージ、データベース、およびネットワーキングをよそくかのうな廷価格で提供。  

 秒単位でwebサーバ構成を実現することができるサーバフルセットを提供するVPSサービス。  
 ・簡易的に小規模なアプリケーションwebサイトを構築するために利用するVPSを立ち上げる。
 ・サーバ、ストレージ、ネットワーク、スナップショット、ロードバランサ機能、ファイアウォール、DNS機能などがあらかじめそろったオールインワンで利用可能。  
・性能に応じた７つの利用プランがある。  

ECS
・

EFS：クラウドおよびオンプレリソースで使用するため、シンプルでスケーラブル、かつ伸縮自在な完全マネージド型のNFSファイルシステム
Amazon FSx：サードパーティベンダーが提供するファイルストレージを利用可能なサービス。WindowsファイルシステムやHPC用のLustreなどが利用可能
AWS Storage Gateway：オンプレ環境のストレージとS3を接続して、ストレージ領域を拡張するサービス  
。S3  Glacier：低コストのs3のストレージクラスで、データのアーカイブや長期バックアップに使用する  

EFSとは複数インスタンスで共有して利用できるファイルストレージ
複数インスタンスでデータ共有する際はEFSを利用する  
数秒単位でのデータ追記が必要
フルマネージドで運用して簡易に利用する

アプリケーションの利用シーン
・アプリケーションの共有ディレクトリとして利用
・ビッグデータなどの分散並列処理環境における共有データアクセスストレージ
・コンテンツの共有リポジトリとして利用  

インスタンスからマウントターゲットを介してEFSにアクセスする。  

S3 Glacierでは、データはアーカイブされる。
一つのアーカイブの最大サイズは40TB
保存可能なアーカイブ数とデータ量に制限なし
各アーカイブには作成時に一意のアーカイブIDが割り当てられ、作成後はアーカイブを更新できない。  
S3のライフサイクルルールと連携させることで、S3のデータのアーカイブを自動化し、全体的なストレージコストを削減できる。  
デフォルトで自動的に暗号化されている
直接データをアップロード・取得ができないため、ライフサイクル管理または、プロフラム処理によるアップロード・ダウンロードが必要  
Glacierの最低保持期間は90日間  

FSXとはファイルストレージ
ファイルストレージ：高性能ワークロード用
オブジェクトストレージ：データの長期保存
ブロックストレージ：

Storage Gateway
オンプレ環境とAWSのストレージを接続してストレージ領域の拡張をする機能  

ユースケース分け
・S3：インターネットアクセス/EC2インスタンス間で共有/大容量データを保存したい場合
・EBS：インスタンスにアタッチして、アプリを構成するボリュームディスクとして利用する場合
・インスタンスストア：一時的なデータ保存や高速データ処理、物理的にインスタンスへアタッチされているボリュームの場合
・EFS：インターネットアクセスなしで、インスタンス間でデータ共有する場合
・S3 Glacier：データバックアップなど中長期にアクセス頻度が低いデータを保存する場合にコスト最適にする場合
・Amazon FSx：WindowsサーバやHPC用のファイルストレージに使用する場合
・Storage Gateway：オンプレのストレージを拡張したい場合に、S3と連携する場合


ストレージクラス
。S3 Glacier Flexible Retrieval：１年に１～２回アクセスされ、非同期で取り出されるアーカイブデータ向け。通常のデータ検索で３～５時間要する。
迅速取り出しで２～５分で取り出し可能。
一括検索で５～１２時間で無料でデータ取り出し

S3 Glacier Instant Retrieval：アクセスされることがほとんどなく、ミリ秒単位での取り出しが必要な長期間有効なデータ向け
医用画像やニュースメディアなど。S3スタンダードと同じパフォーマンスのミリ秒単位での取り出し。

Amazon Glacier Deep Archive：最安のアーカイブストレージ。７～１０年以上保持される長期間使用されるものの、滅多にアクセスされないデータ向け。
標準の取り出し速度で１２時間以内にデータ取得。
大容量取り出しで４８時間以内にデータを取得。  


SMBプロトコルを利用したストレージアクセスを構成する場合、Amazon FSx for Windowsを使う。  

CloudFront：エッジロケーションを利用して、低レイテンシーの高速転送により世界中にコンテンツを配信するコンテンツ配信ネットワーク（CDN）

Global Accelerrator：エッジロケーションを利用して、アプリケーションへのユーザのトラフィックのパフォーマンスを最大６０％向上させるネットワーキングサービス

Direct Connect: データセンタやオフィスとAWSを専用線で接続するサービス。  
Client VPN：ユーザの需要に合わせて自動的にスケールアップまたはスケールダウンする、フルマネージド型で伸縮可能なVPNサービス  
サイト間VPN：データセンタまたはオフィスとAWS感をVPN接続する。  
Cloud WAN：クラウドとオンプレ間で接続するWANサービス。  
Transit Gateway：VPCとオンプレ間を中央ハブとなるクラウドルータ  

Global Accelerator：グローバルにユーザのトラフィックパフォーマンスを最大６０％向上されるグローバルなトラフィックサポートを提供  
グローバルなアプリケーションのトラフィック通信(TCP, UDP)を支援
エニーキャストIPにより、最寄りのエッジロケーションからトラフィックを送信  

Aurora：MySQLおよびPostgreSQLと互換性のある分散・高速化された高性能リレーショナルDB
Redshift：AWS上で業務データ解析基盤を提供するデータウェアハウス
RDS Custom：基盤となるOSやDB環境へのアクセスが可能なマネージドDBサービス。SQL ServerとOracle版が対応可能  
RDS on Outposts：RDSなどのフルマネージド型のデータベースインスタンスをオンプレ環境にデプロイすることができる。  

DynamoDB：数ミリ秒台のパフォーマンスを実現するキーバリュー型およびドキュメント型のNoSQLデータベース  
ElastiCache：RedisまたはMemcachedと互換性のある完全マネージド型のインメモリデータストア  
DocumentDB


Aurora
マルチAZで分散されたクラスター構成により、高速・高性能なRDB  

Auroraの特徴
分散型で耐障害性と自己回復性を備えたスケーラブルなフルマネージド型RDB
・３つのAZに２つのコピーを設置可能で合計６つのコピーを保持
・過去のデータがそのままS3に継続的バックアップ
・リストアも差分適用がなく高速
・どのタイミングでも安定したリストア時間を実現
・99.99%の高可用性・高耐久性

・10GB～64TBまでを提供するSSD
・Auto Scallingなどのクラウド独自のスケーラブルが可能
最大15のリードレプリカによる高速読み込みが可能  

Redshiftとは
データ分析用のDWH。  

DynamoDB
ストリームデータを利用したリアルタイムデータ処理などに最適なDBとして利用するNoSQL型DB  
数万人以上が同時アクセスして処理が必要になるアプリケーションのセッションデータ処理など  
大量なデータ読み書きにはコストがかかってしまう。  

DynamoDBのユースケース
・ビッグデータ処理向けか大量データ処理が必要なアプリケーションに利用する。IoTデータなどKey Value型のシーケンシャルなデータを収取・蓄積・分析するのに最適  
・セッションデータやメタデータなどのアプリケーション上でシンプルでデータを蓄積。高パフォーマンスな処理が必要なデータを保存  

RDS：AWSでRDBを構築する場合
Aurora：高速分散処理が必要なRDBと限定された場合
DynamoDB：AWSでNoSQL型のDBを利用する場合
ElastiCache：NoSQL型のDBの中で、インメモリ型・キャッシュ型のDBと限定された場合
Redshift：DWHと限定された場合  

すけーじゅるどリザーブドインスタンスは、週一回金曜日や、１０～１７時といった定期的な利用時間に限ってインスタンスを利用する場合の購入方式  
1週間だけサーバを利用する場合、オンデマンドインスタンスの方がよい。  

AWSを利用して疎結合アーキテクチャを構成する。その際、コンポーネント間のメッセージングをプッシュ方式で実施するなら、SNSを使った方がいい。  

Aurora for MySQLはデフォルトで自動バックアップが有効になっている。  
AUroraは自動バックアップを無効にすることはできない。  

AUroraは標準のPostgreSQLの最大３倍のスループットを実現する  

スポットインスタンスは最安価格で利用できる未使用のインスタンスである。AWSが管理している未使用のインスタンスを一時的にユーザに貸し出す。
一時的に利用するなら、スポットインスタンスがよい。  

AWS Snowball Edge：
クラウドへ安全な大量データの転送を可能にするサービス。セキュリティに考慮して設計されたデバイスを使用するペタバイト規模のデータ転送ソリューションで、
AWSクラウド内外に大容量データを転送する。  
AWS Snowball Edgeはクラウドへの安全な大量データの転送をするサービス。  

AWS Organizationsは複数のAWSアカウントの統合管理を実施するサービス。個々のAWSアカウント内部で利用可能な権限範囲を管理することができる。  
AWS Organizationsでは一つのアカウントをマスターアカウントに設定し、ほかのアカウントをメンバーアカウントとして管理する。  
マスターアカウントはメンバーアカウントに対して様々なポリシーを適用し制御することができる。  
また、一括請求機能ですべてのアカウントに単一の支払い方法を利用することで請求を簡素化する。  

マスターアカウントはサービスコントロールポリシー(SCP)を利用し、アカウント内のIAMアイデンティティ（ユーザ、グループ、ロール）に必要なサービスへのアクセス
のみを許可するための権限範囲を設定する。  

AWSアカウント自体の制御はAWS Organizations。

S3バケットでS3バージョニングを設定するとMFA Deleteを利用することができる。
つまり、MFAを利用してオブジェクトを削除される際に認証を求める設定を行うには、バージョニングを有効化する必要がある。  

Amazon EMR
Apache HadoopやApache Sparkなどのオープンソースのビッグデータフレームワークを利用し、大量のデータを処理・分析するマネージド型クラスターPF。

Amazon Athenaはインタラクティブなクエリサービスで、S3内のデータを標準SQLで簡単に分析できる。ビッグデータ解析は不可。  

Redshiftは、業務データを利用したBIシステムやDWHとして利用可能なRDBサービス。  S3をデータレイクとした場合は、大量のS3データに対するクエリ処理が可能。  
ただ、データのETLやストリーミングデータ処理には利用されない。EMRならデータの処理・解析まで可能。  

AWS Systems Manager
他のクラウド環境のVMなど、インスタンス、オンプレサーバ、および仮想マシンの設定と管理を簡単に行う運用管理サービス。  

FargateはEKSで動作する、コンテナ向けサーバレスコンピューティングエンジン。  
ECSのようにコンテナそのものを実行する機能ではない。  
ECSはコンテナを実行するサービス。  


AWS責任共有モデルに従って、マネージドサービスに対してユーザ側が実行するべきセキュリティ対応は、SSL/TLS証明書の設定とログ管理。  

インスタンスにPCから接続する際に必要となる、認証キーはキーペア。  

AWSリソースにアクセスするために、ユーザIDとパスワードを使うのはマネジメントコンソール。アクセスキーIDとシークレットアクセスキーを使うのは、
AWS CLI。  

ユーザが設定することなく、初めからマルチAZ構成のフォールトトレランスを考慮して設計されているのは、S3とDynamoDB  
DynamoDBはデフォルトでりーじょんの３つの施設にデータを複製し、サーバ障害・AZの停止が発生した場合にフォールトトレランスを提供。  

インスタンスへSSH接続するのに必要な認証情報は、キーペア  

99％以上の稼働率を実現する場合、マルチAZ展開する必要がある。  


 AWS Directory Service：オンプレ環境の代表的な認証システムであるActive Directoryと連携した認証の仕組みを提供するサービス  
 IAM Identity Cneter: オンプレ環境とAWS環境とのSSOをユーザに提供するサービス  
 Amazon Cognito: AWS上に構築するWEBアプリケーションにユーザ認証機能を提供するサービス  
 AWS Security Token Server(STS): リソースへのアクセスをコントロールできる一時的セキュリティ認証情報を持つ、信頼されたユーザを作成および提供  
 AWS Secrets Manager：DB認証情報、APIキーなどのシークレット情報を管理できるサービス。自動的なパスワードのローテーションが可能  

 Active Directoryとはユーザ名とパスワードでユーザ認証する仕組み。　Windows ADで使用されている。  
 外部のADサーバを利用して、AWSのIAM認証を許可する  
 ユーザは外部認証サーバのIDに関連付けられたIAMロールをリようしてアクセスする。  
 AWSとADサーバとの連携にAWS Directory Serviceを利用する。  
 認証サーバとIAM間のパイプにDirecotry Serviceを利用する。  

 IAM Identity Center
 AWSアカウントおよびアプリケーションへのアクセスの一元管理を容易にするSSOサービス  

 STSは特定のユーザに一時的にリソースのアクセス許可を提供する。１５分から１時間有効。  

 Cognito
アプリケーションにユーザ認証機能を付与したい場合にCognitoを利用する。  
Cognitoユーザプール
アプリユーザのサインイン機能を実装する 
API Gatewayの認証に利用可能  
Cognito IDプール
AWS認証情報を渡して、リソースにアクセスを許可する  
Cognito Sync
デバイスからCognitoにデータを同期する。  

AWS WAF: 一般的なウェブの脆弱性からウェブアプリケーションまたはAPIを保護するファイアウォールサービス
AWS Shield: DDoSからリソースを保護するサービス
AWS Network Firewall: VPCに対して悪意のあるアクティビティの拡散を防ぐなど、ネットワークトラフィックを詳細まで制御できるファイアウォールルールを定義するサービス
AWS Firewall Manager：AWS Organizationsにあるアカウントとアプリケーション全体で一元的にファイアウォールのルールを設定、管理できるようにするセキュリティ管理サービス  
AWS Security Hub: セキュリティのベストプラクティスのチェックを行い、アラートを集約し、自動修復を可能にするクラウドセキュリティ体制管理サービス  

AWS Key Management Service(KMS): 暗号化用のキーを作成・管理するサービス。幅広いAWSのサービスやアプリケーションの暗号化を制御することができる。  
AWS Certificate Manager(ACM): SSL/TLS証明書を作成・管理するサービス。CloudFrontやELBに証明書を設定して通信を暗号化する。  
AWS CloudHSM：クラウドベースのハードウェアセキュリティモジュール（HSM）で、業界標準のFIPS140-2のレベル３認証済みのHSMを使用して、暗号化キーを管理する。  


自動検知
Amazon GuardDuty: 悪意のある操作や不正なトラフィック通信を継続的にモニタリングする脅威検出サービス。機械学習を使った自動検出が可能  
Amazon Inspector: ソフトウェアの脆弱性や意図しないNWのエクスポージャーがないか継続的にAWSワークロードをスキャンする自動脆弱性管理サービス  
Amazon Macie: S3のデータを機械学習によって自動的に検出・分類・保護するサービス。不正アクセスやデータ漏洩などを監視する。  
Amazon Detective: CloudTrailのログ、VPCフローログ、GuardDutyの結果を自動収集し、潜在的なセキュリティ案件を分析するサービス 

AWS Control Tower: 事前設定された安全なAWS環境であるランディングゾーン設定を自動化するサービス。継続的なポリシーの取得および統合ダッシュボードで、複数アカウントのセキュリティ設定を統制する。
AWS Service Catalog: ポートフォリオに製品と制約、利用権限を登録することでユーザが権限なしで製品を起動するサービス  
AWS License Manager: サーバで利用されているソフトウェアのライセンスを管理できるサービス。ライセンスルールを作成・適用することで、追跡、可視化、ライセンス違反の規制を可能にする。  
AWS Audit Manager: フレームワークに基づきリソースの使用状況に関するエビデンスを継続的に自動収集し、

AWS WAF
Webアプリケーションのトラフィックを検査して脆弱性への攻撃や不正アクセスを遮断するFWサービス
・SQLインジェクション、クロスサイトスクリプトなどの悪意のあるリクエストを遮断  
・Web ACLによってカスタムルールを設定
・rate-basedルール（DDoS対策）
・サイズ制限、地域制限
・CloudWatchと連携したモニタリング

AWS Shield：L3/L4におけるDDoS攻撃に対する自動緩和システムをCLoudFrontとRoute53に対して自動適用する無料サービス  
・L3/L4における自動緩和systemをエッジロケーションで適用する
・AWS Global Accelerator / CloudFront/ Route53のエッジロケーションの前にインラインで配置され、すべての着信パケットを検査
・DDoS攻撃の96%を自動軽減
・

AWS GuardDuty
機械学習による異常検知
CloudTrail/ VPCフローログ/ DNSログを検証
Amazon EventBridgeやSNSによるイベント実行が可能  

Amazon Inspector
EC2やECRにエージェントを導入し、PFの脆弱性を診断するホスト型診断サービス  
意図しないネットワークアクセス、不適切なOS設定などを分析することが可能  
インスタンスにInspector Agentをインストールする必要がある  

cloudHSMは不正使用防止策がとられている専用HWモジュールにより、国際標準に準拠した暗号化キー管理を実施  

AWS Artifact
重要なコンプライアンスい関連情報の頼りになる一元管理型のリソース
・AWS Artifact Reports：世界各地にある監査機関の指定する基準や規制を遵守状況をテスト及び確認したコンプライアンスレポートの提供
・AWS Artifact Agreements: AWSアカウントとの契約の確認・受託・管理を実施

EC2のリソース内の脅威検出はAmazon Inspector

Amazon Inspectorの組み込みルールパッケージには、
CVE, CIS, ベストプラクティスの基づいたルール、実行時のふるまい分析  

AWS Control Tower
ベストプラクティスに基づき安全性と適合性を備えた、複数アカウントのAWS環境を設定および管理するサービス  

AWS CloudFormation：クラウド環境内の全インフラリソースを記述してテンプレート化して展開する環境自動設定サービス  
AWS Elastic Beanstalk: webアプリケーションの定番構成の構築・デプロイの自動化サービス  
AWS OpsWorks: OpsWorksはChefまたはPuppetを使用してアプリケーションを設定および運用するための設定管理サービス  
AWS Service Catalog: AWS上でデプロイされているITサービスの一元的な管理を実施するサービス  
AWS Marketplace: インスタンス起動に使用できるAMIなど、AWSで実行されるソフトウェアを購入できるオンラインストア  


AWS Config：リソースの設定を評価、監査、審査できるサービス  
System Managaer: AWSのさまざまなサービスの運用データを確認でき、AWSリソース全体にかかわる運用タスクを自動化できる運用支援サービス  
AWS Personal Health Dashboard: AWSのサービス状態のパーソナライズされた表示
AWSサポート：AWSによるサポートサービス。ベーシック・開発者・ビジネス・エンタープライズがある  

AWS System Manager
利用中のAWSサービスやリソースをモニタリングして、運用タスクを自動化する総合監視サービス  
・EC2などをリソースグループごとに運用データを確認できるため、アプリケーションに影響を与えるリソースの問題を素早く特定可能  
・EC2のパッチ、更新、設定変更・削除・停止およびデプロイなどを自動化  
・各リソースグループの最新状態を簡単に可視化して制御できる 
・AWSサーバとオンプレのサーバを一つのインタフェースで管理可能  

AWS Config
リソースのレポジトリ情報からリソースの変更履歴や構成変更を管理するサービス  
AWS Configには構成変更を管理するストリームと履歴管理するヒストリーと構成要素を保存するスナップショットがある。  

Configuration Stream
リソースが作成・変更・削除に対して作成され、構成ストリームに追加される  
SNSトピックに連携して通知設定が可能  

Configuration History
任意の期間における各リソースタイプの構成要素を履歴として蓄積  
S3バケットに保存  

Configuration Snapshot
ある時点での構成要素の集合
S3バケットに保存  

AWS Trusted Advisor
コスト最適化とセキュリティと耐障害性とパフォーマンス向上についてアドバイスを提供するサービス  

リザーブドインスタンスはAWS Marketplaceに販売することも、スタンダードタイプに変更することもできない。  

特定のアカウントが利用しているサービスの異常/正常な状況をリスト化して確認できるサービスがAWS Personal Health Dashboard  

TAM
効率よく運用するため技術的視点でサポートを行うAWSの専門家。利用者にとって技術面の窓口または支援者として対応、利用者のAWS環境最適化をサポートする積極的なガイダンスとベストプラクティスを提示・AWS全体にわたる広範囲かつ詳細な技術的専門知識を共有  
AWSサポートの障害時の最短問い合わせ
エンタープライズプラン：15分以内
開発者プラン：12時間以内  

技術以外のアカウントなどの問い合わせやサポートしてくれる先をコンシェルジュサポートという  


## ベクトル検索
ベクトル検索はキーワードの一致にとらわれず、テキストの類似性だけで見て検索する。
キーワードの一致にとらわれず糸を検索したいときに効力を発揮する  

ConversationalRetrievalChainは、まずはLLMが質問と会話履歴を受け取って、質問の言い換え（生成質問）を行う。  
次に、言い換えられた質問をもとにVectorStoreに関連情報を探しにいく。  
生成質問にVectorStoreからの関連情報を合わせて、再度LLMに問い合わせ、最終的な回答を得る。  

